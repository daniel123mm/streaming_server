<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta charset="utf-8" />
    <title>player</title>
   
    <!--------------------------------------------------------------------------
      --                      videojs-contrib-dash setup                       --
      ------------------------------------------------------------------------!>

    <!--
      -- Make sure to include the video.js CSS. This could go in
      -- the <head>, too.
      -->
    <link href="https://unpkg.com/video.js/dist/video-js.css" rel="stylesheet">

    <!--
      -- Include video.js, dash.js, and
      -- videojs-contrib-dash in your page
      -->
    <script src="https://unpkg.com/video.js/dist/video.js"></script>
    <script src="//cdn.dashjs.org/latest/dash.all.debug.js"></script>
    <script src="https://unpkg.com/videojs-contrib-dash/dist/videojs-dash.js"></script>
    <!--
      -- videojs-quality-selector
      -->
    <link href="https://unpkg.com/@silvermine/videojs-quality-selector/dist/css/quality-selector.css" rel="stylesheet">
    <script src="https://unpkg.com/@silvermine/videojs-quality-selector/dist/js/silvermine-videojs-quality-selector.min.js"></script>

    <link rel="stylesheet" type="text/css" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Karma">
    <!-- Font-awesome -->
    <!--link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous"-->
  
</head>
<body>

<div class="w3-top">
  <div class="w3-bar w3-white w3-wide w3-padding w3-card">
    <div class="w3-bar-item w3-button" onclick="location.href='127.0.0.1:8080/';"><b>VIDEO</b> Streaming</div>
    <div class="w3-right w3-hide-small">
    </div>
  </div>
</div>

<div class="w3-main w3-content w3-padding" style="max-width:1200px;margin-top:100px">
    <video id="videoPlayer" class="video-js vjs-default-skin vjs-16-9 vjs-big-play-centered" controls autoplay ></video>
</div>

   <script>
     
     /*
   var var1;
   var var2;
   function getid () {
		var url = location.href;
		var temp = url.split("?");
		console.log(temp);
		var index = temp[1].split("&");
		for (var i = 0; i < index.length; i++) {
			var value = index[i].split("=");
			if(i == 0)
				var1 = value[1];
			else
				var2 = value[1];
		}
	}
   
	getid();
	
	 videojs('videoPlayer', {}, function(){
		var player = this;
		resizeManager:false;
		player.src([
			{
				src: 'http://127.0.0.1:8080/dash/' + var1 + '/' + var2 + '.mpd',
				type: 'application/dash+xml'
			}
		]);
		player.play();
  });
  */
  var player = videojs('videoPlayer');
  player.controlBar.addChild('QualitySelector');

 player.ready(function() {
   player.src([
     {
        src: 'http://127.0.0.1:8080/big/big_1080/big.mpd',
        type: 'application/dash+xml',
        label: '1080P'
      },
			{
				src: 'http://127.0.0.1:8080/big/big_720/big.mpd',
				type: 'application/dash+xml',
				label: '720P',
			},
			{
				src: 'http://127.0.0.1:8080/big/big_480/big.mpd',
				type: 'application/dash+xml',
        label: '480P',
        selected: 'true'
			},
			{
        src: 'http://127.0.0.1:8080/big/big_360/big.mpd',
				type: 'application/dash+xml',
				label: '360P'
			}
  ]);
  
   player.play();
 });

    </script>
</body>
</html>
